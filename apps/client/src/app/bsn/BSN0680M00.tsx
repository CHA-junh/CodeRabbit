'use client';

import React, { useState } from 'react';
import BSN0681M00 from './BSN0681M00';
import BSN0682M00 from './BSN0682M00';

export default function BSN0680M00() {
  const [activeTab, setActiveTab] = useState('ÏõîÎ≥Ñ Ìà¨ÏûÖ/Ï≤†Ïàò ÌòÑÌô©');
  const tabs = ['ÏõîÎ≥Ñ Ìà¨ÏûÖ/Ï≤†Ïàò ÌòÑÌô©', 'Ìà¨ÏûÖ/Ï≤†Ïàò Ïù∏Ïõê Î¶¨Ïä§Ìä∏'];

  // Ï°∞Ìöå Ï°∞Í±¥ ÏÉÅÌÉú
  const [searchConditions, setSearchConditions] = useState({
    ownOutDiv: '1', // ÏûêÏÇ¨/Ïô∏Ï£ºÍµ¨Î∂Ñ (1:ÏûêÏÇ¨, 2:Ïô∏Ï£º, ALL:Ï†ÑÏ≤¥)
    srchKb: '1', // Ï°∞ÌöåÍµ¨Î∂Ñ (1:Ìà¨ÏûÖ, 2:Ï≤†Ïàò)
    bsnDiv: 'ALL', // ÏÇ¨ÏóÖÍµ¨Î∂Ñ (ALL:Ï†ÑÏ≤¥, BTS:SI, BTM:SMÎ∞èÏú†ÏßÄÎ≥¥Ïàò, BIR:Ïó∞Íµ¨Í∞úÎ∞ú)
    fromDt: '2025-01-01', // Ìà¨ÏûÖÏùºÏûê From
    toDt: '2025-12-31', // Ìà¨ÏûÖÏùºÏûê To
    hqDiv: 'ALL', // Î≥∏Î∂Ä
    dept: 'ALL', // ÏßÅÏ±Ö
    tcnGrd: 'ALL' // Îì±Í∏â
  });

  // Ï°∞Ìöå Ï°∞Í±¥ Î≥ÄÍ≤Ω Ìï∏Îì§Îü¨
  const handleConditionChange = (field: string, value: string) => {
    setSearchConditions(prev => ({
      ...prev,
      [field]: value
    }));
  };

  // Ï°∞Ìöå Î≤ÑÌäº ÌÅ¥Î¶≠ Ìï∏Îì§Îü¨
  const handleSearch = () => {
    console.log('Ï°∞Ìöå Ï°∞Í±¥:', searchConditions);
    // TODO: API Ìò∏Ï∂ú Î°úÏßÅ Íµ¨ÌòÑ
  };

  return (
    <div className="flex flex-col h-full overflow-hidden bg-white">
      {/* üîç Ï°∞Ìöå Ï°∞Í±¥ */}
      <div className="border border-gray-300 rounded-lg p-4 mb-4 bg-gray-50">
        <table className="w-full">
          <tbody>
            {/* ‚ñ∂ 1Ìñâ */}
            <tr className="h-10">
              <th className="w-[120px] text-left text-sm font-medium text-gray-700 bg-gray-100 px-3 border border-gray-300">
                ÏûêÏÇ¨/Ïô∏Ï£ºÍµ¨Î∂Ñ
              </th>
              <td className="w-[350px] px-3 border border-gray-300 bg-white">
                <label className="mr-4">
                  <input 
                    type="radio" 
                    name="ownOutDiv" 
                    value="1"
                    checked={searchConditions.ownOutDiv === '1'}
                    onChange={(e) => handleConditionChange('ownOutDiv', e.target.value)}
                    className="mr-1"
                  /> 
                  ÏûêÏÇ¨
                </label>
                <label className="mr-4">
                  <input 
                    type="radio" 
                    name="ownOutDiv" 
                    value="2"
                    checked={searchConditions.ownOutDiv === '2'}
                    onChange={(e) => handleConditionChange('ownOutDiv', e.target.value)}
                    className="mr-1"
                  /> 
                  Ïô∏Ï£º
                </label>
                <label className="mr-4">
                  <input 
                    type="radio" 
                    name="ownOutDiv" 
                    value="ALL"
                    checked={searchConditions.ownOutDiv === 'ALL'}
                    onChange={(e) => handleConditionChange('ownOutDiv', e.target.value)}
                    className="mr-1"
                  /> 
                  Ï†ÑÏ≤¥
                </label>
              </td>

              <th className="w-[100px] text-left text-sm font-medium text-gray-700 bg-gray-100 px-3 border border-gray-300">
                Ï°∞ÌöåÍµ¨Î∂Ñ
              </th>
              <td className="w-[150px] px-3 border border-gray-300 bg-white">
                <label className="mr-4">
                  <input 
                    type="radio" 
                    name="srchKb" 
                    value="1"
                    checked={searchConditions.srchKb === '1'}
                    onChange={(e) => handleConditionChange('srchKb', e.target.value)}
                    className="mr-1"
                  /> 
                  Ìà¨ÏûÖ
                </label>
                <label className="mr-4">
                  <input 
                    type="radio" 
                    name="srchKb" 
                    value="2"
                    checked={searchConditions.srchKb === '2'}
                    onChange={(e) => handleConditionChange('srchKb', e.target.value)}
                    className="mr-1"
                  /> 
                  Ï≤†Ïàò
                </label>
              </td>

              <th className="w-[100px] text-left text-sm font-medium text-gray-700 bg-gray-100 px-3 border border-gray-300">
                ÏÇ¨ÏóÖÍµ¨Î∂Ñ
              </th>
              <td className="w-[250px] px-3 border border-gray-300 bg-white" colSpan={3}>
                <label className="mr-4">
                  <input 
                    type="radio" 
                    name="bsnDiv" 
                    value="ALL"
                    checked={searchConditions.bsnDiv === 'ALL'}
                    onChange={(e) => handleConditionChange('bsnDiv', e.target.value)}
                    className="mr-1"
                  /> 
                  Ï†ÑÏ≤¥
                </label>
                <label className="mr-4">
                  <input 
                    type="radio" 
                    name="bsnDiv" 
                    value="BTS"
                    checked={searchConditions.bsnDiv === 'BTS'}
                    onChange={(e) => handleConditionChange('bsnDiv', e.target.value)}
                    className="mr-1"
                  /> 
                  SI
                </label>
                <label className="mr-4">
                  <input 
                    type="radio" 
                    name="bsnDiv" 
                    value="BTM"
                    checked={searchConditions.bsnDiv === 'BTM'}
                    onChange={(e) => handleConditionChange('bsnDiv', e.target.value)}
                    className="mr-1"
                  /> 
                  SM/Ïú†ÏßÄÎ≥¥Ïàò
                </label>
                <label className="mr-4">
                  <input 
                    type="radio" 
                    name="bsnDiv" 
                    value="BIR"
                    checked={searchConditions.bsnDiv === 'BIR'}
                    onChange={(e) => handleConditionChange('bsnDiv', e.target.value)}
                    className="mr-1"
                  /> 
                  Ïó∞Íµ¨Í∞úÎ∞ú
                </label>
              </td>
            </tr>

            {/* ‚ñ∂ 2Ìñâ */}
            <tr className="h-10">
              <th className="text-left text-sm font-medium text-gray-700 bg-gray-100 px-3 border border-gray-300">
                Ìà¨ÏûÖÏùºÏûê
              </th>
              <td className="px-3 border border-gray-300 bg-white">
                <input 
                  type="date" 
                  className="border border-gray-300 rounded px-2 py-1 text-sm mr-2 w-32"
                  value={searchConditions.fromDt}
                  onChange={(e) => handleConditionChange('fromDt', e.target.value)}
                />
                ~
                <input 
                  type="date" 
                  className="border border-gray-300 rounded px-2 py-1 text-sm ml-2 w-32"
                  value={searchConditions.toDt}
                  onChange={(e) => handleConditionChange('toDt', e.target.value)}
                />
              </td>

              <th className="text-left text-sm font-medium text-gray-700 bg-gray-100 px-3 border border-gray-300">
                Î≥∏Î∂Ä
              </th>
              <td className="px-3 border border-gray-300 bg-white">
                <select 
                  className="border border-gray-300 rounded px-2 py-1 text-sm w-full"
                  value={searchConditions.hqDiv}
                  onChange={(e) => handleConditionChange('hqDiv', e.target.value)}
                >
                  <option value="ALL">Ï†ÑÏ≤¥</option>
                  <option value="001">Î≥∏Î∂Ä1</option>
                  <option value="002">Î≥∏Î∂Ä2</option>
                  <option value="003">Î≥∏Î∂Ä3</option>
                </select>
              </td>

              <th className="text-left text-sm font-medium text-gray-700 bg-gray-100 px-3 border border-gray-300">
                ÏßÅÏ±Ö
              </th>
              <td className="px-3 border border-gray-300 bg-white w-[150px]">
                <select 
                  className="border border-gray-300 rounded px-2 py-1 text-sm w-full"
                  value={searchConditions.dept}
                  onChange={(e) => handleConditionChange('dept', e.target.value)}
                >
                  <option value="ALL">Ï†ÑÏ≤¥</option>
                  <option value="001">ÏÇ¨Ïõê</option>
                  <option value="002">ÎåÄÎ¶¨</option>
                  <option value="003">Í≥ºÏû•</option>
                  <option value="004">Ï∞®Ïû•</option>
                  <option value="005">Î∂ÄÏû•</option>
                </select>
              </td>

              <th className="text-left text-sm font-medium text-gray-700 bg-gray-100 px-3 border border-gray-300 w-[80px]">
                Îì±Í∏â
              </th>
              <td className="px-3 border border-gray-300 bg-white w-[150px]">
                <select 
                  className="border border-gray-300 rounded px-2 py-1 text-sm w-full"
                  value={searchConditions.tcnGrd}
                  onChange={(e) => handleConditionChange('tcnGrd', e.target.value)}
                >
                  <option value="ALL">Ï†ÑÏ≤¥</option>
                  <option value="001">Ï¥àÍ∏â</option>
                  <option value="002">Ï§ëÍ∏â</option>
                  <option value="003">Í≥†Í∏â</option>
                  <option value="004">ÌäπÍ∏â</option>
                </select>
              </td>
              <td></td>
              {/* ‚ñ∂ Ï°∞Ìöå Î≤ÑÌäº (Ïö∞Ï∏° Ï†ïÎ†¨) */}
              <td className="px-3 border border-gray-300 bg-white text-right">
                <button 
                  className="bg-blue-500 hover:bg-blue-600 text-white px-4 py-1 rounded text-sm"
                  onClick={handleSearch}
                >
                  Ï°∞Ìöå
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      {/* üìë ÏÑúÎ∏å ÌÉ≠ */}
      <div className="flex-1 flex flex-col min-h-0">
        {/* ÌÉ≠ Î≤ÑÌäº */}
        <div className="flex border-b border-gray-300">
          {tabs.map(tab => (
            <button
              key={tab}
              className={`px-4 py-2 text-sm font-medium border-b-2 ${
                activeTab === tab 
                  ? 'border-blue-500 text-blue-600 bg-white' 
                  : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
              }`}
              onClick={() => setActiveTab(tab)}
            >
              {tab}
            </button>
          ))}
        </div>

        {/* ÌÉ≠ ÏΩòÌÖêÏ∏† */}
        <div className="flex-1 p-4 bg-white">
          {activeTab === 'ÏõîÎ≥Ñ Ìà¨ÏûÖ/Ï≤†Ïàò ÌòÑÌô©' && <BSN0681M00 />}
          {activeTab === 'Ìà¨ÏûÖ/Ï≤†Ïàò Ïù∏Ïõê Î¶¨Ïä§Ìä∏' && <BSN0682M00 />}
        </div>
      </div>
    </div>
  );
} 